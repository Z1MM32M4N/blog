
<!DOCTYPE html>

<head>


<meta charset="utf-8">
<meta http-equiv="cleartype" content="on">

<title>Offline LaTeX Development - Bits, Bytes, and Words</title>
<meta name="author" content="Jake Zimmerman">




<meta name="description" content="While online clients like ShareLaTeX or writeLaTeX are popular for getting started with LaTeX quickly, developing LaTeX locally with Vim and the &hellip;">

<meta name="keywords" content="latex make vim unix ">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Twitter Cards -->

  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="https://blog.jez.io/touch-icon.png">
  <meta name="twitter:title" content="Offline LaTeX Development">
  <meta name="twitter:description" content="While online clients like ShareLaTeX or writeLaTeX are popular for getting started with LaTeX quickly, developing LaTeX locally with Vim and the &hellip;">
  <meta name="twitter:creator" content="@jez_io">


<!-- Open Graph -->
<meta property="og:local" content="en_US">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.jez.io/2014/10/06/offline-latex-development">
<meta property="og:title" content="Offline LaTeX Development">
<meta property="og:description" content="While online clients like ShareLaTeX or writeLaTeX are popular for getting started with LaTeX quickly, developing LaTeX locally with Vim and the &hellip;">
<meta property="og:image" content="https://blog.jez.io/touch-icon.png">
<meta property="og:site_name" content="Bits, Bytes, and Words">

<link rel="canonical" href="https://blog.jez.io/2014/10/06/offline-latex-development">
<link href="/touch-icon.png" rel="apple-touch-icon-precomposed">
<link href="/favicon@2x.png" rel="icon" sizes="32x32">
<link href="/favicon.png" rel="icon" sizes="16x16">
<link href="/fonts/concourse.css" rel="stylesheet">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
<link href="/atom.xml" rel="alternate" title="Bits, Bytes, and Words" type="application/atom+xml">




</head>

<body id="post" class="">

<nav class="Navigation">
  <ul class="Tags">
    
      <li class="Tag">
        
          <a href="/">Home</a>
        
      </li>
    
      <li class="Tag">
        
          <a href="/categories/">Categories</a>
        
      </li>
    
      <li class="Tag">
        
          <a href="https://jez.io">About</a>
        
      </li>
    
  </ul>
</nav>





<div class="EntryHeader">
  <h1 class="EntryHeader-title">Offline LaTeX Development</h1>
  <h2 class="EntryHeader-subtitle">October 6, 2014</h2>

  <ul class="Tags">
    
  </ul>
</div>



<div id="main" role="main">
  <article class="Post-content">
    <p>While online clients like ShareLaTeX or writeLaTeX are popular for getting
started with LaTeX quickly, developing LaTeX locally with Vim and the command
line is my preferred LaTeX workflow. In this post, I&rsquo;ll describe the changes
I&rsquo;ve made that make working with LaTeX on the command line a seamless
experience.</p>

<!-- more -->


<h2>Install LaTeX</h2>

<p>Obviously, to work with LaTeX locally, you&rsquo;ll need LaTeX installed. To check if
you already have it installed, you can run <code>which pdflatex</code>. If it&rsquo;s installed,
this command will tell you the path to program. Otherwise, it won&rsquo;t print
anything.</p>

<h3>On Linux</h3>

<p>Installing LaTeX on Linux isn&rsquo;t too bad. Usually it&rsquo;s included in your
distribution&rsquo;s package manager. I&rsquo;ll be focusing on OS X for the majority of
this post though, so Google around if you end up having trouble.</p>

<h3>On OS X</h3>

<p>To install LaTeX on a Mac, we&rsquo;ll be installing MacTeX, which includes the
command line LaTeX utilities as well as a couple graphical clients for LaTeX
development. You can try compiling from source, but as Homebrew points out when
you try to <code>brew install latex</code>:</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>$ brew install latex
</span><span class='line'>Error: No available formula for latex
</span><span class='line'>Installing TeX from source is weird and gross, requires a lot of patches,
</span><span class='line'>and only builds 32-bit (and thus can't use Homebrew deps on Snow Leopard.)
</span><span class='line'>
</span><span class='line'>We recommend using a MacTeX distribution: http://www.tug.org/mactex/</span></code></pre></td></tr></table></div></figure>


<p>With that in mind, head on over to
<a href="http://www.tug.org/mactex/">http://www.tug.org/mactex/</a> and download the file
<code>MacTeX.pkg</code>. Once this has downloaded and you&rsquo;ve clicked through the
installer, you should be ready to go with LaTeX. Verify this by running <code>which
pdflatex</code> again.</p>

<h2>Use Vim</h2>

<p>The biggest productivity improvement you gain from developing LaTeX locally is
that you get to use Vim. Make sure you have a nice colorscheme for both your
terminal and for Vim. <strong>I can&rsquo;t stress enough how important it is to make your
terminal look nice</strong>: you want to enjoy your terminal experience, and this is
one of the easiest ways to do so.</p>

<h2>Use Make</h2>

<p>Compiling LaTeX is pretty straightforward. To generate a PDF, all you have to do
is run the command</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="gp">$ </span>pdflatex &lt;myfile&gt;.tex</span></code></pre></td></tr></table></div></figure>


<p>and you&rsquo;ll get a file called <code>&lt;myfile&gt;.pdf</code> in the current directory, plus some
intermediate files. We can go one step further and put a bunch of useful build
targets into a Makefile and use it to build our PDF:</p>

<figure class='code'><figcaption><span>LaTeX Makefile</span> <a href='https://gist.github.com/jez/b248a409d19c9f1c94cd'>(link)</a></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='make'><span class='line'><span class="c"># NOTE: Change "written" to the name of your TeX file with no extension
</span><span class='line'></span><span class="nv">TARGET</span><span class="o">=</span>written
</span><span class='line'>
</span><span class='line'><span class="nl">all</span><span class="o">:</span> <span class="nf">$(TARGET).pdf</span>
</span><span class='line'>
</span><span class='line'><span class="c">## Generalized rule: how to build a .pdf from each .tex
</span><span class='line'></span><span class="nv">LATEXPDFS</span><span class="o">=</span><span class="err">$</span><span class="o">(</span>patsubst %.tex,%.pdf,<span class="err">$</span><span class="o">(</span>wildcard <span class="k">*</span>.tex<span class="o">))</span>
</span><span class='line'><span class="nl">$(LATEXPDFS)</span><span class="o">:</span> <span class="nf">%.pdf: %.tex</span>
</span><span class='line'>  <span class="err">pdflatex</span> <span class="err">-interaction</span> <span class="err">nonstopmode</span> <span class="err">$(patsubst</span> <span class="err">%.pdf,%.tex,$@)</span>
</span><span class='line'>
</span><span class='line'><span class="nl">clean</span><span class="o">:</span>
</span><span class='line'>  <span class="err">rm</span> <span class="err">*.aux</span> <span class="err">*.log</span> <span class="err">||</span> <span class="err">true</span>
</span><span class='line'>
</span><span class='line'><span class="nl">veryclean</span><span class="o">:</span> <span class="nf">clean</span>
</span><span class='line'>  <span class="err">rm</span> <span class="err">$(TARGET).pdf</span>
</span><span class='line'>
</span><span class='line'><span class="nl">view</span><span class="o">:</span> <span class="nf">$(TARGET).pdf</span>
</span><span class='line'>  <span class="err">if</span> <span class="err">[</span> <span class="s2">"Darwin"</span> <span class="err">=</span> <span class="s2">"$(shell uname)"</span> <span class="err">];</span> <span class="err">then</span> <span class="err">open</span> <span class="err">$(TARGET).pdf</span> <span class="err">;</span> <span class="err">else</span> <span class="err">evince</span> <span class="err">$(TARGET).pdf</span> <span class="err">;</span> <span class="err">fi</span>
</span><span class='line'>
</span><span class='line'><span class="nl">submit</span><span class="o">:</span> <span class="nf">$(TARGET).pdf</span>
</span><span class='line'>  <span class="err">cp</span> <span class="err">$(TARGET).pdf</span> <span class="err">../</span>
</span><span class='line'>
</span><span class='line'><span class="nl">print</span><span class="o">:</span> <span class="nf">$(TARGET).pdf</span>
</span><span class='line'>  <span class="err">lpr</span> <span class="err">$(TARGET).pdf</span>
</span><span class='line'>
</span><span class='line'><span class="nl">.PHONY</span><span class="o">:</span> <span class="nf">all clean veryclean view print</span></span></code></pre></td></tr></table></div></figure>


<p>If you save this to a file called <code>Makefile</code> in the same directory as your LaTeX
file, we can just run <code>make</code> instead of running <code>pdflatex &lt;myfile&gt;.tex</code>!</p>

<p>As you can see, there are a bunch of other handy targets here:</p>

<ul>
<li><code>make clean</code> will remove all intermediate files that are created.</li>
<li><code>make veryclean</code> will remove all intermediate files and the compiled PDF file.</li>
<li><code>make view</code> will compile the file and then open it up in a PDF viewer (if
you&rsquo;re on OS X, or on Linux and have <code>evince</code> installed).</li>
<li><code>make print</code> will send your document to the default printer with the default
options for that printer.</li>
<li><code>make submit</code> will copy your file into the parent directory. This is handy
when you&rsquo;re working in a subfolder on an assignment to isolate the
intermediate files, but your class has provided a handin script that needs the
PDF file to be in the parent directory.</li>
</ul>


<h2>Workflow Tips</h2>

<p>Right now, our workflow looks like this:</p>

<ul>
<li>Create TeX file</li>
<li>Edit in Vim</li>
<li>Switch to terminal</li>
<li>Run make view to compile and view</li>
</ul>


<p>We can actually optimize this workflow to one less step: we don&rsquo;t have to get
out of Vim to run make!</p>

<p>Vim has a command <code>:make</code> that will look for a Makefile in the current directory
and run it&rsquo;s <code>all</code> target. It also takes a target as an optional argument, so we
can do <code>:make view</code> to compile and view the document from within Vim!</p>

<p>Taking this one step further, we can add a command to shorten this. If we add</p>

<figure class='code'><figcaption><span>Save, Compile and View in Vim</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='vim'><span class='line'>command WV <span class="k">w</span> <span class="p">|</span> <span class="k">make</span> <span class="k">view</span></span></code></pre></td></tr></table></div></figure>


<p>to our <code>.vimrc</code>, we&rsquo;ll only have to type <code>:WV</code> to save, compile, and view our
PDF output.</p>

<h2>Wrap Up</h2>

<p>That&rsquo;s it! I like this experience for a bunch of reasons:</p>

<ul>
<li><strong>It&rsquo;s faster</strong>. Compiling LaTeX without having to wait for a web client to
load is really nice.</li>
<li><strong>It&rsquo;s more stable</strong>. You can still edit, compile, and view your work if you
don&rsquo;t have access to the Internet.</li>
<li><strong>It&rsquo;s faster</strong>. Using Vim to edit text is much more convenient than a
standard text editor.</li>
</ul>


<p>Do you have a LaTeX tip, a fancier Makefile, or a favorite vim plugin for LaTeX?
Share it in the comments!</p>

<h2><a href="/2015/01/10/offline-latex-development-part-2/">Part 2</a>!</h2>

<p>Actually that&rsquo;s not it, there&rsquo;s more! I wrote a <a href="/2015/01/10/offline-latex-development-part-2/">Part 2</a> to this post, which you
should definitely check out.</p>

    <footer class="entry-meta">
      <span class="entry-tags">
        <ul class="Tags">
          
            <li class="Tag">
              <a href="/categories/#latex" title="Pages tagged latex">latex</a>
            </li>
          
            <li class="Tag">
              <a href="/categories/#make" title="Pages tagged make">make</a>
            </li>
          
            <li class="Tag">
              <a href="/categories/#vim" title="Pages tagged vim">vim</a>
            </li>
          
            <li class="Tag">
              <a href="/categories/#unix" title="Pages tagged unix">unix</a>
            </li>
          
        </ul>
      </span>
      <span class="entry-date date published updated"><time datetime="2014-10-06T18:00:00-04:00">October 6, 2014</time></span>
      
    </footer>
  </div>
  
  <div class="read-more">
    
      <div class="read-more-header">
        <a href="/codemod-tips/" class="Button">Read More</a>
      </div><!-- /.read-more-header -->
      <div class="read-more-content">
        <h3><a href="/codemod-tips/" title="Codemod Tips and Tricks">Codemod Tips and Tricks</a></h3>
      <p>- Philosophy  - replayable / scriptable  - bad heuristics are often not actually bad- Broad overview of classes of tools  - manual  - semi- &hellip;&hellip; <a href="/codemod-tips/"> Continue reading</a></p>
        </div><!-- /.read-more-content -->
      
      <div class="read-more-list">
        
          <div class="list-item">
            <h4><a href="/surgery-on-code/" title="Surgery on Code from the Command Line">Surgery on Code from the Command Line</a></h4>
            <span>Published on July 30, 2019</span>
          </div><!-- /.list-item -->
        
          <div class="list-item">
            <h4><a href="/on-language-choice/" title="On Programming Language Choice">On Programming Language Choice</a></h4>
            <span>Published on June 21, 2019</span>
          </div><!-- /.list-item -->
        
      </div><!-- /.read-more-list -->
  </div><!-- /.read-more -->


</div>

<div class="footer-wrapper">
  Blog source on <a href="https://github.com/jez/blog">GitHub</a>.

</div>

</body>
</html>
